<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Solar Cell Cleaning Systems</title>
<style>
  :root{
    --bg:#f5f6f8; --card:#ffffff; --text:#1f2937; --muted:#6b7280; --ring:#d1d5db;
    --green:#22c55e; --green-600:#16a34a; --gray:#9ca3af; --gray-200:#e5e7eb;
    --red:#ef4444; --red-600:#dc2626; --red-soft:#fee2e2;
  }
  html,body{height:100%}
  body{
    margin:0;background:var(--bg);color:var(--text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans Thai", sans-serif;
    display:flex;justify-content:center;align-items:flex-start;padding:24px;
  }
  .shell{width:min(760px, 94vw)}
  header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  h1{font-size:20px;margin:0}
  .status-badge{padding:6px 12px;border-radius:10px;font-weight:700;border:1px solid transparent;min-width:110px;text-align:center}
  .status-badge.offline{background:#f3f4f6;color:#374151;border-color:#e5e7eb}
  .status-badge.online{background:#e8f8ee;color:var(--green-600);border-color:#bfe8ce}
  .status-badge.emergency{background:var(--red-soft);color:var(--red-600);border-color:#fecaca}

  .tabs{display:flex;gap:14px;border-bottom:2px solid var(--gray-200);margin-bottom:14px;flex-wrap:wrap}
  .tab{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-bottom:3px solid transparent;font-weight:700;cursor:pointer}
  .tab.active{border-color:#3b82f6;color:#111}

  .dot{width:14px;height:14px;border-radius:50%;background:#9ca3af;display:inline-block}
  .dot.green{background:var(--green)}
  .dot.red{background:var(--red)}

  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media (max-width:640px){ .grid{grid-template-columns:1fr} }
  .card{background:var(--card);border:1px solid var(--ring);border-radius:12px;padding:12px}
  .card .top{display:flex;justify-content:space-between;margin-bottom:8px}
  .bar{height:10px;background:#e5e7eb;border-radius:6px;overflow:hidden}
  .fill{height:100%;width:100%;background:var(--green)}

  .row{background:var(--card);border:1px solid var(--ring);border-radius:12px;padding:12px;margin-top:12px;display:flex;justify-content:space-between;align-items:center}
  .muted{color:var(--muted);font-size:12px}

  .switch{--w:46px;--h:24px;appearance:none;width:var(--w);height:var(--h);background:#e5e7eb;border-radius:999px;position:relative;border:1px solid #d1d5db;cursor:pointer}
  .switch:after{content:"";position:absolute;top:2px;left:2px;width:20px;height:20px;border-radius:50%;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.25);transition:transform .2s ease}
  .switch:checked{background:#bbf7d0;border-color:#a7f3d0}
  .switch:checked:after{transform:translateX(22px)}
  .switch:disabled{opacity:.5;cursor:not-allowed}

  .panel{display:none}
  .panel.active{display:block}
</style>
</head>
<body>
  <div class="shell">
    <header>
      <h1>Solar Cell Cleaning Systems</h1>
      <div id="statusBadge" class="status-badge offline">Offline</div>
    </header>

    <div class="tabs">
      <div id="tabControl" class="tab active">System Control</div>
      <div id="tabRobot" class="tab"><span id="dotRobot" class="dot"></span>Robot</div>
      <div id="tabStation" class="tab"><span id="dotStation" class="dot"></span>Station</div>
    </div>

    <section id="panelControl" class="panel active">
      <div class="grid">
        <div class="card"><div class="top"><span>Robot</span><span>100%</span></div><div class="bar"><div class="fill"></div></div></div>
        <div class="card"><div class="top"><span>Station</span><span>100%</span></div><div class="bar"><div class="fill"></div></div></div>
      </div>
      <div class="row"><div><b>Wash</b><div class="muted" id="washText">OFF</div></div><input id="washSwitch" type="checkbox" class="switch" /></div>
      <div class="row"><div><b>Emergency</b><div class="muted" id="emgText">OFF</div></div><input id="emgSwitch" type="checkbox" class="switch" /></div>
    </section>

    <section id="panelRobot" class="panel"><p>ข้อมูล Robot</p></section>
    <section id="panelStation" class="panel"><p>ข้อมูล Station</p></section>
  </div>

<script>
  const badge=document.getElementById('statusBadge');
  const washSwitch=document.getElementById('washSwitch');
  const emgSwitch=document.getElementById('emgSwitch');
  const washText=document.getElementById('washText');
  const emgText=document.getElementById('emgText');
  const dotRobot=document.getElementById('dotRobot');
  const dotStation=document.getElementById('dotStation');

  const tabs={tabControl:'panelControl',tabRobot:'panelRobot',tabStation:'panelStation'};
  Object.keys(tabs).forEach(id=>{
    document.getElementById(id).addEventListener('click',()=>{
      for(const t in tabs){
        document.getElementById(t).classList.remove('active');
        document.getElementById(tabs[t]).classList.remove('active');
      }
      document.getElementById(id).classList.add('active');
      document.getElementById(tabs[id]).classList.add('active');
    });
  });

  function setDots(r,s){
    dotRobot.className='dot'+(r==='green'?' green':r==='red'?' red':'');
    dotStation.className='dot'+(s==='green'?' green':s==='red'?' red':'');
  }

  let cycleTimer=null,activeSide='robot';
  function startAlternating(){
    stopAlternating();
    activeSide='robot';setDots('green','');
    cycleTimer=setInterval(()=>{
      if(activeSide==='robot'){setDots('','green');activeSide='station';}
      else{setDots('green','');activeSide='robot';}
    },5000);
  }
  function stopAlternating(){if(cycleTimer){clearInterval(cycleTimer);cycleTimer=null;}}

  function render(){
    const isWash=washSwitch.checked;
    const isEmg=emgSwitch.checked;
    washText.textContent=isWash?'ON':'OFF';
    emgText.textContent=isEmg?'ON':'OFF';

    if(isEmg){
      badge.textContent='EMERGENCY';badge.className='status-badge emergency';
      if(isWash){washSwitch.checked=false;washText.textContent='OFF';}
      washSwitch.disabled=true;stopAlternating();setDots('red','red');return;
    }else{washSwitch.disabled=false;}

    if(isWash){
      badge.textContent='Online';badge.className='status-badge online';startAlternating();
    }else{
      badge.textContent='Offline';badge.className='status-badge offline';stopAlternating();setDots('','');
    }
  }
  washSwitch.addEventListener('change',render);
  emgSwitch.addEventListener('change',render);
  render();
</script>
</body>
</html>
